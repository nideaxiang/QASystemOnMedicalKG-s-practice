# QASystemOnMedicalKG-s-practice仅仅对于问答机器人的实现部分进行了细致的学习


我对经典的QASystemOnMedicalKG项目进行复现，并对每一行都进行了说明  
原项目来自同济zihao兄：https://github.com/TommyZihao/QASystemOnMedicalKG/tree/master 他哔哩哔哩上还有专门的视频


首先是项目环境，有个叫ahocorasick的包很难搞，但是网络上有大神https://blog.csdn.net/qq_42077539/article/details/124078148


(1)背景：  
使用知识图谱作为问答机器的数据源优势众多，能够提供结构化、语义丰富的信息，使得系统可以进行高效查询和逻辑推理。首先，知识图谱能够整合来自不同来源的医疗数据，如电子健康记录、实验室结果和文献数据库，形成统一的知识表示，方便检索和分析。其次，它可以帮助问答系统理解复杂的医学术语和专业知识，从而准确回答关于药物副作用、疾病症状和治疗方案等问题。此外，知识图谱擅长处理复杂的多跳查询，例如“某种症状可能的疾病有哪些？”或“某药物与哪些疾病相关？”，提供全面而详细的答案。在辅助诊断和决策方面，知识图谱可以集成和分析大量医疗数据，为医生提供诊断建议和治疗方案推荐。它还支持个性化医疗，通过整合患者的个人健康数据和一般医学知识，提供针对个人情况的健康建议和管理方案。知识图谱的另一个优势是能够持续更新和扩展，保持最新的医疗知识和数据，从而提高问答系统的准确性和可靠性。此外，知识图谱还支持临床研究，帮助研究人员发现医学知识中的潜在关联，促进新药研发和疾病机理研究。结合自然语言处理技术，知识图谱能够理解患者和医生的自然语言问询，将其转化为图查询语言，提供精准的答案。



(2)实现逻辑：  
本问答系统的基本逻辑可以总结为三大个步骤：  
一是对于问题语句进行解析，解析为可以匹配到图数据库中的节点和关系。	二是在解析基础上，实现问题节点和关系的Cypher语句匹配，将问题转化为Cypher语句。


三是利用问题对应的Cypher语句在图数据库中进行查询，返回查询结果，最后按照问题的类型将查询结果格式化，返回最终的答案。


(3)涉及到的数据源有：  
图数据库本身：用于提供可查询的依据，在问题转为节点和关系后，使用Cypher语句便可以获得初级答案。


特征词文档：特征词文档可以由图数据库生成，也可以用由更加初级的数据来源生成，特征词文档是解析问题的依据之一，一个特征词就是一个节点或关系。


疑问词文档：解析问题的依据之一，根据输入问题中的问题词汇来确定该词汇应该属于哪一种关系，后续便可以根据这一种关系进行查询。


(4)细分模块  
问题分类器：该模块用于识别用户问题的类别。可以使用 Aho-Corasick 自动机进行快速的关键词匹配，并根据匹配到的关键词来分类用户的问题。在获得问题后需要进行特征词以及关系的匹配获取，最终输出问题的类型以及问题对应的特征词。


问题解析器：用来解析分类好的医疗问题，并生成相应的查询语句，以从 Neo4j 数据库中检索信息。接受来自分类好的问题数据后，提取出实体和关系，写成Cypher语句，对于一个问题，可以有多个查询。

回答器：该模块将查询结果转化为答案。首先是要接收来自解析器的查询结果，再根据问题类型匹配回答的模板，将查询结果格式化后，便可以返回可读的答案。
